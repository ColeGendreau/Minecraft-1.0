minecraftServer:
  eula: "TRUE"
  version: "LATEST"
  # Paper server for WorldEdit plugin support
  type: "PAPER"
  difficulty: peaceful
  whitelist: ""
  ops: ""
  pvp: false
  
  # Disable secure chat signing (removes yellow warning on join)
  enforceSecureProfile: false
  
  # Gamerules for always-day creative building environment
  # Time is set to noon (6000) and daylight cycle disabled
  overrideServerProperties: |
    enforce-secure-profile=false
  maxPlayers: 20
  maxWorldSize: 10000
  allowNether: true
  announcePlayerAchievements: true
  enableCommandBlock: true
  forcegameMode: false
  generateStructures: true
  hardcore: false
  maxBuildHeight: 256
  maxTickTime: 60000
  spawnAnimals: true
  spawnMonsters: false
  spawnNPCs: true
  spawnProtection: 0
  viewDistance: 12
  levelSeed: ""
  gameMode: creative
  motd: "§6§lWorld Forge §r§7- §b§lAI-Crafted Worlds §a✓"
  serviceType: LoadBalancer
  # loadBalancerIP is set dynamically by the deploy workflow using --set
  servicePort: 25565
  
  # RCON configuration for remote command execution
  # Exposed publicly for coordinator API access (password protected)
  rcon:
    enabled: true
    port: 25575
    password: "worldforge-rcon-2024"
    serviceType: LoadBalancer
  
  # WorldEdit plugin via Modrinth (more reliable than Spiget)
  modrinth:
    projects:
      - worldedit
    allowedVersionType: release
  
  # Additional JVM arguments for better performance with WorldEdit
  jvmXXOpts: "-XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:MaxGCPauseMillis=200"

# Environment variables for gamerules and settings
extraEnv:
  # Always daytime - disable daylight cycle and set to noon
  INIT_GAMERULES: "doDaylightCycle=false,doWeatherCycle=false"
  # Set time to day on server start
  POST_WORLD_CREATE_COMMANDS: "time set day"

# Expose RCON as a separate service for coordinator access
extraServicePorts:
  - name: rcon
    port: 25575
    protocol: TCP
    targetPort: 25575

persistence:
  dataDir:
    enabled: true
    Size: 5Gi  # Increased for WorldEdit operations and structure storage

resources:
  requests:
    memory: 2Gi
    cpu: 1000m
  limits:
    memory: 4Gi
    cpu: 2000m

