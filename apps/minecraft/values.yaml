minecraftServer:
  eula: "TRUE"
  version: "LATEST"
  # Paper server for WorldEdit plugin support
  type: "PAPER"
  difficulty: normal
  whitelist: ""
  ops: ""
  pvp: true
  maxPlayers: 20
  maxWorldSize: 10000
  allowNether: true
  announcePlayerAchievements: true
  enableCommandBlock: true
  forcegameMode: false
  generateStructures: true
  hardcore: false
  maxBuildHeight: 256
  maxTickTime: 60000
  spawnAnimals: true
  spawnMonsters: true
  spawnNPCs: true
  spawnProtection: 16
  viewDistance: 10
  levelSeed: ""
  gameMode: survival
  motd: "§6§lWorld Forge §r§7- §b§lAI-Crafted Worlds §a✓"
  serviceType: LoadBalancer
  # loadBalancerIP is set dynamically by the deploy workflow using --set
  servicePort: 25565
  
  # RCON configuration for remote command execution
  rcon:
    enabled: true
    port: 25575
    password: "worldforge-rcon-2024"
    serviceType: ClusterIP
  
  # WorldEdit plugin - using direct download since Spiget API is unreliable
  # downloadModpackPlugins:
  #   - https://dev.bukkit.org/projects/worldedit/files/latest
  
  # Additional JVM arguments for better performance with WorldEdit
  jvmXXOpts: "-XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:MaxGCPauseMillis=200"

# Expose RCON as a separate service for coordinator access
extraServicePorts:
  - name: rcon
    port: 25575
    protocol: TCP
    targetPort: 25575

persistence:
  dataDir:
    enabled: true
    Size: 5Gi  # Increased for WorldEdit operations and structure storage

resources:
  requests:
    memory: 2Gi
    cpu: 1000m
  limits:
    memory: 4Gi
    cpu: 2000m

